@using NuGetGallery;
@model IEnumerable<DisplayPackageViewModel>
@{
    ViewBag.Tab = "Packages";
}
<div id="layout-before-main" class="group">
    <section id="currentPageToolbar">
        <div class="zone zone-before-main">
            <form id="search-filter-form" action="@Request.Url" method="get">
                @* TODO: This hidden input hack can go away when we fully restructure the UI*@
                <input type="hidden" name="q" value="@ViewBag.SearchTerm" />
                <div id="sort">
                    <label>Sort</label>
                    <select name="sortOrder" id="sortOrder">
                        @ViewHelpers.Option("package-title", "A-Z", ViewBag.SortOrder)
                        @ViewHelpers.Option("package-rating", "Highest Rated", ViewBag.SortOrder)
                        @ViewHelpers.Option("package-download-count", "Popularity", ViewBag.SortOrder)
                        @ViewHelpers.Option("package-created", "Recent", ViewBag.SortOrder)
                        @ViewHelpers.Option("package-relevance", "Relevance", ViewBag.SortOrder)
                    </select>
                    <label>Show</label>
                    <select name="pageSize" id="pageSize">
                        @ViewHelpers.Option("10", "10 per page", ViewBag.PageSize)
                        @ViewHelpers.Option("20", "20 per page", ViewBag.PageSize)
                        @ViewHelpers.Option("50", "50 per page", ViewBag.PageSize)
                    </select>
                </div>
            </form>
        </div>
    </section>
</div>

<div id="layout-main" class="group">
    <div id="layout-content" class="group">
        
        <div id="content" class="group">
            <div class="zone zone-content">
                <section>
                    <header>
                        <h2><span>@Model.Count() results for </span>Packages</h2>
                        <span class="displayResults">Displaying results 1 - 10.</span>
                    </header>
                    <ul>
                        @foreach (var listPackage in Model) {
                            <li class="first">
                                @Html.Partial("_ListPackage", listPackage)
                            </li>
                        }
                    </ul>
                    <div id="pagination">
                        <ul class="group pager">
                            <li class="page-previous">
                                <span>Previous</span>
                            </li>
                            <li class="page-next">
                                <a href="/List/Packages?page=2">Next</a>
                            </li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
        
        <div id="after-content">
            <div class="zone zone-after-content">
                <div id="deleteRatingConfirmationDialogDiv" title="Confirm Deletion" style="display:none">
                    <p>When you clear your rating, if you've left a review it will also be deleted. Do you wish to proceed?</p>
                    <input type="button" value="Yes" id="confirmDeleteRatingButton" />
                    <input type="button" value="No" id="cancelDeleteRatingButton" />
                </div>
            </div>
        </div>

    </div>
</div>
@section BottomScripts {
    <link href="@Url.Content("~/Content/Contrib.Stars.css")" rel="stylesheet" type="text/css" />
}
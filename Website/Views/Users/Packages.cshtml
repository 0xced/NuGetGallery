@model ManagePackagesViewModel
@if (Model.UnpublishedPackages.Any()) {
    <header>
        <h2>Unpublished Packages</h2>
        <span class="displayResults">
            The following packages are in an <strong>unfinished state</strong>. They were uploaded, 
            but are not published in the gallery. You can choose to delete these or publish them.
        </span>
    </header>

    <table class="packages owner">
        <thead class="header">
            <tr>
                <th>Title</th>
                <th>Package ID</th>
                <th>Version</th>
                <th class="ownerActions">Actions</th>
            </tr>
        </thead>
        @foreach (var package in Model.UnpublishedPackages) {
            <tr>
                <td>@package.Title</td>
                <td>@package.Id</td>
                <td>@package.Version</td>
                <td class="ownerActions">
                    <ul>
                        <li>
                            <a href="@Url.Publish(package)" title="Publish"><img src="@Links.Content.Images.greenArrow_png" alt="Publish" /></a>
                        </li>
                        @*
                        // TODO: Since we don't allow editing the package via the web right now, 
                        this link probably doesn't need to exist.
                        <li>
                            <a href="@Url.Package(package, PackageVersionAction.EditPackage)" title="Edit"><img src="@Links.Content.Images.editIcon_png" alt="Edit" /></a>
                        </li>*@
                        <li>
                            <a href="#" title="Delete" class="deletePackageLink" data-package-id="RouteMagic.Mvc"
                            data-package-version="0.2.2" data-should-redirect="True"><img src="@Links.Content.Images.trash_png" alt="Delete" /></a>
                        </li>
                    </ul>
                </td>
            </tr>
        }
    </table>
}

@if (Model.PublishedPackages.Any()) {
    <header class="manage-packages">
        <h2>Manage My Packages</h2>
        <p>These packages are currently published for the world to see.</p>
    </header>

   <table class="packages owned">
        <thead class="header">
            <tr>
                <th>Package</th>
                <th>Package ID</th>
                <th>Downloads</th>
                <th class="ownerActions">Actions</th>
            </tr>
        </thead>
        @foreach (var package in Model.PublishedPackages) {
            <tr>
                <td>
                    <strong><a href="@Url.Package(package)">@package.Title</a></strong>
                    <p>@package.Description</p>
                </td>
                <td>@package.Id</td>
                <td class="downloads">@package.DownloadCount</td>
                <td class="ownerActions">
                    <ul>
                        <li>
                            <a href="#" title="Delete" class="deletePackageLink" data-package-id="RouteMagic.Mvc"
                            data-package-version="0.2.2" data-should-redirect="True"><img src="@Links.Content.Images.trash_png" alt="Delete" /></a>
                        </li>
                    </ul>
                </td>
            </tr>
        }
    </table>
    <p>
        Why not make the world a better place and 
        <a href="@Url.UploadPackage()" class="silverButtonBig">Upload a Package</a>
    </p>
}
else {
<header>
    <h2>No Packages?</h2>
</header>
<p>
    You don&#8217;t have any published packages. Maybe now is a good time to 
    <a href="@Url.UploadPackage()" class="silverButtonBig">Upload a Package</a>
</p>
}